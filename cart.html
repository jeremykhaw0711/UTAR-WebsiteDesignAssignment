<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Cart</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans:400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Great+Vibes" rel="stylesheet">

    <link rel="stylesheet" href="css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="css/animate.css">
    
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="css/magnific-popup.css">

    <link rel="stylesheet" href="css/aos.css">

    <link rel="stylesheet" href="css/ionicons.min.css">

    <link rel="stylesheet" href="css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="css/jquery.timepicker.css">

    
	<link rel="icon" sizes="128x128" href="/images/icon/icon128.png">
	<link rel="apple-touch-icon" sizes="128x128" href="images/icon/icon128.png">
	<link rel="icon" sizes="192x192" href="/images/icon/icon192.png">
	<link rel="apple-touch-icon" sizes="192x192" href="images/icon/icon192.png">
	<link rel="icon" sizes="256x256" href="images/icon/icon256.png">
	<link rel="apple-touch-icon" sizes="256x256" href="images/icon/icon256.png">
	<link rel="icon" sizes="384x384" href="images/icon/icon384.png">
	<link rel="apple-touch-icon" sizes="384x384" href="images/icon/icon384.png">
	<link rel="icon" sizes="512x512" href="images/icon/icon512.png">
	<link rel="apple-touch-icon" sizes="512x512" href="images/icon/icon512.png">
    <link rel="stylesheet" href="css/flaticon.css">
    <link rel="stylesheet" href="css/icomoon.css">
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/cart.css">
	<link rel="manifest" href="manifest.json">
	
	<script>
		
		function Delete(e){
			let items = [];
			JSON.parse(localStorage.getItem('items')).map(data=>{
				if(data.id != e.parentElement.parentElement.children[0].textContent){
					
					items.push(data);

				}
			});
			localStorage.setItem('items',JSON.stringify(items));
			window.location.reload();
		};

		function add(e){

			let items = [];
			var item = {
						id:e.parentElement.parentElement.children[0].textContent,
						name:e.parentElement.parentElement.children[1].textContent,
						price:parseFloat(e.parentElement.parentElement.children[2].textContent),
						no:1,
						tprice:parseFloat(e.parentElement.parentElement.children[6].textContent)
					};

			JSON.parse(localStorage.getItem('items')).map(data=>{
				if(data.id == e.parentElement.parentElement.children[0].textContent){					
							item.no = data.no + 1;
							item.tprice = data.tprice + data.price;
							items.push(item);
				}
				else{
					items.push(data);
				}
			});
			localStorage.setItem('items',JSON.stringify(items));
			window.location.reload();

		}

		function minus(e){

			let items = [];
			var item = {
						id:e.parentElement.parentElement.children[0].textContent,
						name:e.parentElement.parentElement.children[1].textContent,
						price:parseFloat(e.parentElement.parentElement.children[2].textContent),
						no:1,
						tprice:parseFloat(e.parentElement.parentElement.children[6].textContent)
					};

			JSON.parse(localStorage.getItem('items')).map(data=>{
				if(data.id == e.parentElement.parentElement.children[0].textContent){					
							item.no = data.no - 1;
							item.tprice = data.tprice - data.price;
							if(item.no != 0){
								items.push(item);
							}
							
				}
				else{
					items.push(data);
				}
			});
			localStorage.setItem('items',JSON.stringify(items));
			window.location.reload();
			}
	</script>
  </head>
  <body>
  	<nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
	    <div class="container">
	      <a class="navbar-brand" href="index.html">Msaco<small>Truck</small></a>
	      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
	        <span class="oi oi-menu"></span> Menu
	      </button>
	      <div class="collapse navbar-collapse" id="ftco-nav">
	        <ul class="navbar-nav ml-auto">
	          <li class="nav-item"><a href="index.html" class="nav-link">Home</a></li>
	          <li class="nav-item"><a href="menu.html" class="nav-link">Menu</a></li>
	          <li class="nav-item"><a href="services.html" class="nav-link">Services</a></li>
	          <li class="nav-item"><a href="blog.html" class="nav-link">Blog</a></li>
			  <li class="nav-item"><a href="about.html" class="nav-link">About</a></li>
			  <li class="nav-item"><a href="wishlist.html" class="nav-link">Wishlist</a></li>
	          <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="shop.html" id="dropdown04" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Shop</a>
              <div class="dropdown-menu" aria-labelledby="dropdown04">
              	<a class="dropdown-item" href="shop.html">Shop</a>
                <a class="dropdown-item" href="cart.html">Cart</a>
                <a class="dropdown-item" href="checkout.html">Checkout</a>
              </div>
            </li>
	          <li class="nav-item"><a href="contact.html" class="nav-link">Contact</a></li>
	          <li class="nav-item cart"><a href="cart.html" class="nav-link"><span class="icon icon-shopping_cart"></span><span class="bag d-flex justify-content-center align-items-center"><small class="iconShopping">0</small></span></a></li>
	        </ul>
	      </div>
		  </div>
	  </nav>
    <!-- END nav -->

    <section class="home-slider owl-carousel">

      <div class="slider-item" style="background-image: url(images/cart.jpg);" data-stellar-background-ratio="0.5">
      	<div class="overlay"></div>
        <div class="container">
          <div class="row slider-text justify-content-center align-items-center">

            <div class="col-md-7 col-sm-12 text-center ftco-animate">
            	<h1 class="mb-3 mt-5 bread">Cart</h1>
	            <p class="breadcrumbs"><span class="mr-2"><a href="index.html">Home</a></span> <span>Cart</span></p>
            </div>

          </div>
        </div>
	  </div>
	</section>
	
		<section class="ftco-section ftco-cart">
			<div class="container">
				<div class="row">
    			<div class="col-md-12 ftco-animate">
    				<div class="cart-list">
	    				<table class="table">
						    <thead class="thead-primary">
						      <tr class="text-center">
								<th>Product Id</th>
						        <th>Product Name</th>
								<th>Price</th>
								<th></th>
								<th>Quantity</th>
								<th></th>
								<th>Total</th>
								<th>Delete</th>
						      </tr>
						    </thead>
						    <tbody id="displaycart">
								
						    </tbody>
						  </table>
					  </div>
    			</div>
    		</div>
    		<div class="row justify-content-end">
    			<div class="col col-lg-3 col-md-6 mt-5 cart-wrap ftco-animate">
    				<div class="cart-total mb-3">
    					<h3>Cart Totals</h3>
    					<p class="d-flex">
    						<span>Subtotal</span>
    						<span id="subtotaldisplay"></span>
    					</p>
    					<p class="d-flex">
    						<span>Delivery</span>
    						<span>RM5.00</span>
    					</p>
    					<hr>
    					<p class="d-flex total-price">
    						<span>Total</span>
    						<span id="totaldisplay"></span>
    					</p>
    				</div>
    				<p class="text-center"><a href="checkout.html" class="btn btn-primary py-3 px-4">Proceed to Checkout</a></p>
    			</div>
    		</div>
			</div>
		</section>

		<div class="popup center">
			<img src="images/tick.png" width="200px" height="200px">
			<div class="title">
			  Added to Cart Successfully
			</div>
			<div class="dismiss-btn">
			  <button id="dismiss-popup-btn">
				Close
			  </button>
			</div>
		</div>

		<a id='MenuList'>
			<section class="ftco-section">
				<div class="container-fluid">
					<form id="myform">
		
						<p class='h3'>Pick the food category:</p>
					  
						<select class='h6' id="dropdown">
				
							<option value='all'>All</option>
					  
						   <option value="smoothie">Smoothie</option>
					  
						   <option value="main dish">Main dish</option>
					  
						   <option value="juice">Drinks</option>
					  
						   <option value="cake">Cake</option>
					   
						   
					 </select>
					 </form>
					 <div style="overflow-x: auto;">
					 <table class="table" id="myTable" >
					  <thead>
					
					<tr>
						<td><h5>Food<h5></td>
						<td><h5>Description</h5></td>
					</tr>
				</thead>
				
				<tbody class='h6' id="myTableBody"></tbody>
				
				</table></div>
				<div class="col-md-12 text-center" id='pgnt'>
				</div>
				</div>
			</section>
			</a>
		<section class="ftco-section">
			<div class="container">
				<div class="row justify-content-center mb-5 pb-3">
			  <div class="col-md-7 heading-section ftco-animate text-center">
				  <span class="subheading">Find More</span>
				<h2 class="mb-4">Related Dish and Drinks</h2>
				<p>‚ÄúCakes are healthy too, you just eat a small slice.‚Äù‚Äï Mary Berry</p>
			  </div>
			</div>
			<div class="row">
				<div class="col-md-3">
					<div class="menu-entry">
							<a href='bnnsmoothie.html' class="img" style="background-image: url(images/Banana-smoothie.jpg);"></a>
							<div class="text text-center pt-4">
								<h3><span style="display: none;">2</span><span>Banana Smoothie</span></h3>
								<p>Its like an island heaven, rich and delicious and highly nutritious, sweetened only by raw agave nectar.</p>
								<p class="price">RM<span>5.90</span></p>
								<button title="add to cart" class="attToCart btn btn-primary btn-outline-primary">Add to cart</button>
							</div>
						</div>
				</div>
				<div class="col-md-3">
					<div class="menu-entry">
							<a href='chicken.html' class="img" style="background-image: url(images/Chicken-Chop.jpg);"></a>
							<div class="text text-center pt-4">
								<h3><span>7</span>. <span>CHICKEN CHOP</span></h3>
								<p>Super tender chicken wrapped in a crunchy batter, smothered in a rich mushroom sauce.</p>
								<p class="price">RM<span>12.00</span></p>
								<button title="add to cart" class="attToCart btn btn-primary btn-outline-primary">Add to cart</button>
							</div>
						</div>
				</div>
				<div class="col-md-3">
					<div class="menu-entry">
							<a href='chocolate.html' class="img" style="background-image: url(images/Chocolate-Cake.jpg);"></a>
							<div class="text text-center pt-4">
								<h3><span style="display: none;">17</span><span>Chocolate-Cake</span></h3>
								<p>Chocolate-lovers, raise your hands! This cake, made extra moist with oil, features a fudge frosting and photo-worthy chocolate shards.</p>
								<p class="price">RM<span>5.00</span></p>
								<button title="add to cart" class="attToCart btn btn-primary btn-outline-primary">Add to cart</button>
							</div>
						</div>
				</div>
				<div class="col-md-3">
					<div class="menu-entry">
							<a href='oreo.html' class="img" style="background-image: url(images/Oreo-Cake.jpg);"></a>
							<div class="text text-center pt-4">
								<h3><span style="display: none;">21</span><span>Oreo Cake</span></h3>
								<p>What's the better one when this cake is filled with cream cheese frosting, chocolate cake, cookies and cream filling?</p>
								<p class="price">RM<span>6.90</span></p>
								<button title="add to cart" class="attToCart btn btn-primary btn-outline-primary">Add to cart</button>
							</div>
						</div>
				</div>
			</div>
			</div>
		</section>
		

    <footer class="ftco-footer ftco-section img">
    	<div class="overlay"></div>
      <div class="container">
        <div class="row mb-5">
          <div class="col-lg-3 col-md-6 mb-5 mb-md-5">
            <div class="ftco-footer-widget mb-4">
              <h2 class="ftco-heading-2">About Us</h2>
              <p>It all started when a couple of friends decided to join forces, making street food inspired by travels and sharing great food together. The experience was so inspiring, in fact, that they decided to make an entire business out of it.</p>
              <ul class="ftco-footer-social list-unstyled float-md-left float-lft mt-5">
				<li class="ftco-animate"><a href="https://twitter.com/MsacoTruck"><span class="icon-twitter"></span></a></li>
                <li class="ftco-animate"><a href="https://www.facebook.com/Msaco-103152678196550"><span class="icon-facebook"></span></a></li>
                <li class="ftco-animate"><a href="https://www.instagram.com/msacotruck/"><span class="icon-instagram"></span></a></li>
              </ul>
            </div>
          </div>
          <div class="col-lg-4 col-md-6 mb-5 mb-md-5">
            <div class="ftco-footer-widget mb-4">
              <h2 class="ftco-heading-2">Recent Blog</h2>
              <div class="block-21 mb-4 d-flex">
                <a class="blog-img mr-4" style="background-image: url(images/Tacos2.jpg);"></a>
                <div class="text">
                  <h3 class="heading"><a href="blog.html">Taco Testing Day</a></h3>
                  <div class="meta">
                    <div><a href="blog.html"><span class="icon-calendar"></span>May 19, 2020</a></div>
                    <div><a href="blog.html"><span class="icon-person"></span> Admin</a></div>
                  </div>
                </div>
              </div>
              <div class="block-21 mb-4 d-flex">
                <a class="blog-img mr-4" style="background-image: url(images/Lemon-Garlic-Permesan-Shrimp-Pasta.jpg);"></a>
                <div class="text">
                  <h3 class="heading"><a href="blog.html">Newly Created Pasta</a></h3>
                  <div class="meta">
                    <div><a href="blog.html"><span class="icon-calendar"></span>June 07,2020</a></div>
                    <div><a href="blog.html"><span class="icon-person"></span> Admin</a></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-2 col-md-6 mb-5 mb-md-5">
             <div class="ftco-footer-widget mb-4 ml-md-4"><!--May Remove //Change-->
              <h2 class="ftco-heading-2">Services</h2>
              <ul class="list-unstyled">
                <li><a href="services.html#ServiceList" class="py-2 d-block">Order</a></li>
                <li><a href="services.html#ServiceList" class="py-2 d-block">Deliver</a></li>
                <li><a href="services.html#ServiceList" class="py-2 d-block">Quality Foods</a></li>
              </ul>
            </div>
          </div>
          <div class="col-lg-3 col-md-6 mb-5 mb-md-5">
            <div class="ftco-footer-widget mb-4 ml-3">
            	<h2 class="ftco-heading-2">Have a Questions?</h2>
            	<div class="block-23 mb-3">
	              <ul>
	                <li><span class="icon icon-map-marker"></span><span class="text">271, Jalan Perak 9, 31900 Kampar, Negeri Perak</span></li>
	                <li><a href="tel:01234567890"><span class="icon icon-phone"></span><span class="text">+01234567890</span></a></li>
	                <li><a href="mailto:info@yourdomain.com"><span class="icon icon-envelope"></span><span class="text">info@yourdomain.com</span></a></li>
	              </ul>
	            </div>
			</div>
			<div id="installBanner" class="col-lg-12 text-center ftco-animate">
				<button class="btn btn-primary btn-outline-primary px-4 py-3" id="installBtn">Install this web application</button>
			</div>
          </div>
		</div>

	
		<div class='row'><div class="col-md-12 mb-3 text-center sharethis-inline-share-buttons"></div></div>
        <div class="row">
          <div class="col-md-12 text-center">
			<a href="graph.html" class="btn btn-white btn-outline-white p-3 px-xl-4 py-xl-3">Analytic</a>
            <p><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
  Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="icon-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
  <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p>
          </div>
        </div>
      </div>
    </footer>
    
  

  <!-- loader -->
  <div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#F96D00"/></svg></div>


  <script src="js/jquery.min.js"></script>
  <script src="js/jquery-migrate-3.0.1.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/jquery.easing.1.3.js"></script>
  <script src="js/jquery.waypoints.min.js"></script>
  <script src="js/jquery.stellar.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/aos.js"></script>
  <script src="js/jquery.animateNumber.min.js"></script>
  <script src="js/bootstrap-datepicker.js"></script>
  <script src="js/jquery.timepicker.min.js"></script>
  <script src="js/scrollax.min.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
  <script src="js/google-map.js"></script>
  <script src="js/main.js"></script>
  <script src="js/cart.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="js/paginated.js"></script>
  <script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5f511c447d6f500012aea47f&product=inline-share-buttons" async="async"></script>

  
  <script>
	const iconShoppingP = document.querySelector('.iconShopping');
	let no = 0;
	JSON.parse(localStorage.getItem('items')).map(data=>{
	  no = no+data.no;
	});
	iconShoppingP.innerHTML = no;
  </script>
  
  <script>
	if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('service-worker.js')
          .then(reg => {
			console.log('Service worker registered! üòé', reg);
          })
          .catch(err => {
            console.log('üò• Service worker registration failed: ', err);
          });
      });
    }
  </script>

  <script>
	  let deferredPrompt;
      window.addEventListener('beforeinstallprompt', event => {
        // Prevent Chrome 67 and earlier from automatically showing the prompt
        event.preventDefault();
  
        // Stash the event so it can be triggered later.
        deferredPrompt = event;
  
        // Attach the install prompt to a user gesture
        document.querySelector('#installBtn').addEventListener('click', event => {

		

          // Show the prompt
          deferredPrompt.prompt();
  
          // Wait for the user to respond to the prompt
          deferredPrompt.userChoice
            .then((choiceResult) => {
              if (choiceResult.outcome === 'accepted') {
                console.log('User accepted the A2HS prompt');
              } else {
                console.log('User dismissed the A2HS prompt');
              }
              deferredPrompt = null;
            });
        });
  
        // Update UI notify the user they can add to home screen
        document.querySelector('#installBanner').style.display = 'flex';
      });
  </script>

	<script>
	let tableData = '';
	var subtotal = 0;
	
	if(JSON.parse(localStorage.getItem('items'))[0] === null){
		tableData += '<tr><td colspan="5">No items found</td></tr>'
	}else{
		JSON.parse(localStorage.getItem('items')).map(data=>{
			tableData += '<tr><th>'+data.id+'</th><th>'+data.name+'</th><th>'+data.price.toFixed(2) +'</th><th><div class=\"btn btn-primary\" onclick=minus(this);>-</div></th><th>'+data.no +'</th><th><div class=\"btn btn-primary\" onclick=add(this);>+</div></th><th>' + data.tprice.toFixed(2)+ '</th><th><div class=\"btn btn-primary\" onclick=Delete(this);>Delete</div></th></tr>';
			subtotal += data.tprice;
		});
	}
	document.getElementById("displaycart").innerHTML = tableData;

	document.getElementById("subtotaldisplay").innerHTML = "RM" + subtotal.toFixed(2);
	document.getElementById("totaldisplay").innerHTML = "RM" + (subtotal + 5).toFixed(2);
    </script>
	<!--Start of Tawk.to Script-->
	<script type="text/javascript">
		var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
		(function(){
		var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
		s1.async=true;
		s1.src='https://embed.tawk.to/5f5c74e7f0e7167d000fa9c0/default';
		s1.charset='UTF-8';
		s1.setAttribute('crossorigin','*');
		s0.parentNode.insertBefore(s1,s0);
		})();
	</script>
	<!--End of Tawk.to Script-->
  </body>
</html>