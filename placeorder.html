<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en-US"  class="supernova"><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="alternate" type="application/json+oembed" href="https://www.jotform.com/oembed/?format=json&amp;url=https%3A%2F%2Fform.jotform.com%2F202426221295044" title="oEmbed Form">
<link rel="alternate" type="text/xml+oembed" href="https://www.jotform.com/oembed/?format=xml&amp;url=https%3A%2F%2Fform.jotform.com%2F202426221295044" title="oEmbed Form">
<meta property="og:title" content="Form" >
<meta property="og:url" content="https://form.jotform.com/202426221295044" >
<meta property="og:description" content="Please click the link to complete this form.">
<meta name="slack-app-id" content="AHNMASS8M">
<link rel="shortcut icon" href="https://cdn.jotfor.ms/favicon.ico">
<link rel="canonical" href="https://form.jotform.com/202426221295044" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2.0, user-scalable=1" />
<meta name="HandheldFriendly" content="true" />
<title>Form</title>
<link type="text/css" media="print" rel="stylesheet" href="https://cdn.jotfor.ms/css/printForm.css?3.3.19904" />
<link type="text/css" rel="stylesheet" href="https://cdn.jotfor.ms/themes/CSS/5e6b428acc8c4e222d1beb91.css?themeRevisionID=5f30e2a790832f3e96009402"/>
<link type="text/css" rel="stylesheet" href="https://cdn.jotfor.ms/css/styles/payment/payment_styles.css?3.3.19904" />
<link type="text/css" rel="stylesheet" href="https://cdn.jotfor.ms/css/styles/payment/payment_feature.css?3.3.19904" />
<script src="https://cdn.jotfor.ms/static/prototype.forms.js" type="text/javascript"></script>
<script src="https://cdn.jotfor.ms/static/jotform.forms.js?3.3.19904" type="text/javascript"></script>
<script type="text/javascript">
	JotForm.init(function(){
if (window.JotForm && JotForm.accessible) $('input_4').setAttribute('tabindex',0);
	JotForm.newDefaultTheme = true;
	JotForm.newPaymentUIForNewCreatedForms = true;
	JotForm.newPaymentUI = true;
      JotForm.alterTexts(undefined);
	JotForm.clearFieldOnHide="disable";
	JotForm.submitError="jumpToFirstError";
    /*INIT-END*/
	});

   JotForm.prepareCalculationsOnTheFly([null,{"name":"heading","qid":"1","text":"Form","type":"control_head"},{"name":"submit2","qid":"2","text":"Submit","type":"control_button"},null,{"description":"","name":"typeA4","qid":"4","subLabel":"","text":"Type a question","type":"control_textarea"}]);
   setTimeout(function() {
JotForm.paymentExtrasOnTheFly([null,{"name":"heading","qid":"1","text":"Form","type":"control_head"},{"name":"submit2","qid":"2","text":"Submit","type":"control_button"},null,{"description":"","name":"typeA4","qid":"4","subLabel":"","text":"Type a question","type":"control_textarea"}]);}, 20); 
</script>
</head>
<body>
<form class="jotform-form" action="https://submit.jotform.com/submit/202426221295044/" method="post" name="form_202426221295044" id="202426221295044" accept-charset="utf-8" autocomplete="on">
  <input type="hidden" name="formID" value="202426221295044" />
  <input type="hidden" id="JWTContainer" value="" />
  <input type="hidden" id="cardinalOrderNumber" value="" />
  <div role="main" class="form-all">
    <ul class="form-section page-section">
      <li id="cid_1" class="form-input-wide" data-type="control_head">
        <div class="form-header-group  header-large">
          <div class="header-text httal htvam">
            <h1 id="header_1" class="form-header" data-component="header">
              Receipt
            </h1>
          </div>
        </div>
      </li>
      <li class="form-line" data-type="control_textarea" id="id_4">
        <div id="cid_4" class="form-input-wide" data-layout="full">
          <textarea id="input_4" class="form-textarea" name="q4_typeA4" style="width:648px;height:163px" data-component="textarea" aria-labelledby="label_4"></textarea>
        </div>
 
        <div>
          <input type="button" id="getpdf" value="Download the receipt">
        </div>
      </li>
      <li class="form-line" data-type="control_button" id="id_2">
        <div id="cid_2" class="form-input-wide" data-layout="full">
          <div data-align="auto" class="form-buttons-wrapper form-buttons-auto   jsTest-button-wrapperField">
            <button id="input_2" type="submit" class="form-submit-button submit-button jf-form-buttons jsTest-submitField" data-component="button" data-content="">
              Place an order
            </button>
          </div>
        </div>
      </li>
      <li style="display:none">
        Should be Empty:
        <input type="text" name="website" value="" />
      </li>
    </ul>
  </div>
  <script>
  JotForm.showJotFormPowered = "new_footer";
  </script>
  <script>
  JotForm.poweredByText = "Powered by JotForm";
  </script>
  <input type="hidden" id="simple_spc" name="simple_spc" value="202426221295044" />
  <script type="text/javascript">
  document.getElementById("si" + "mple" + "_spc").value = "202426221295044-202426221295044";
  </script>
  <div class="formFooter-heightMask">
  </div>
  <div class="formFooter f6">
    <div class="formFooter-wrapper formFooter-leftSide">
      <div id="spdf" class="canvas_div_pdf"></div>
    </div>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.3/jspdf.min.js"></script>
  <script src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>
  <script src="js/cart.js"></script>
  <script>

    document.getElementById("spdf").style.display = "none";
      
    

    $(document).ready(function(){

      $("#spdf").html("");
      var orderdetail1 = "";
      var orderdetail2 = "";
      var sum = 0;

      if(typeof(Storage) !== "undefined"){
        var info = JSON.parse(sessionStorage.getItem("Info"));
  
        var orderd = JSON.parse(localStorage.getItem('items'));
      }


      for(let i=0; i<orderd.length; i++){
        orderdetail1 += (i+1) + '. '+orderd[i].name+'\nQuantity: '+orderd[i].no+'\t\tPrice: RM'+orderd[i].tprice.toFixed(2) +'\n\n\n';
        orderdetail2 += 'Id: ' + orderd[i].id+'\t\tName: '+orderd[i].name+'\tx'+orderd[i].no+'\t\tTotal price: RM'+orderd[i].tprice.toFixed(2) + '<br>';
        sum += orderd[i].tprice;
      }

      

      

      $("#spdf").append("<h5>Receipt</h5><br><div>First Name: " + info.fname
      + "<br>" + "Last Name: " + info.lname
      + "<br>" + "State: " + info.state
      + "<br>" + "Address: " + info.address
      + "<br>" + "City: " + info.city
      + "<br>" + "Postcode: " + info.postcode
      + "<br>" + "Phone: " + info.phone
      + "<br>" + "Email: " + info.email 
      + "<br>" + "Transaction ID: " + info.transactionid
      + "<br><br>" + "<h5>Order details<h5><hr>" + orderdetail2
      + "<br><br>" + "Total payment: RM" + sum.toFixed(2)
      + "</div>");

      $("textarea").html("First Name: " + info.fname
      + "\n" + "Last Name: " + info.lname
      + "\n" + "State: " + info.state
      + "\n" + "Address: " + info.address
      + "\n" + "City: " + info.city
      + "\n" + "Postcode: " + info.postcode
      + "\n" + "Phone: " + info.phone
      + "\n" + "Email: " + info.email
      + "\n" + "Transaction ID: " + info.transactionid
      + "\n\n" + "Order Details" 
      + "\n\n" + orderdetail1
      + "\n\n" + "Total payment: RM" + sum.toFixed(2));
      

      $('#getpdf').click(function () {

        document.getElementById("spdf").style.display = "block";

        var HTML_Width = $(".canvas_div_pdf").width();
        var HTML_Height = $(".canvas_div_pdf").height();
        var top_left_margin = 15;
        var PDF_Width = HTML_Width+(top_left_margin*2);
        var PDF_Height = (PDF_Width*1.5)+(top_left_margin*2);
        var canvas_image_width = HTML_Width;
        var canvas_image_height = HTML_Height;

        var totalPDFPages = Math.ceil(HTML_Height/PDF_Height)-1;


        html2canvas($(".canvas_div_pdf")[0],{allowTaint:true}).then(function(canvas) {

          canvas.getContext('2d');
          document.getElementById("spdf").style.display = "none";
          console.log(canvas.height+"  "+canvas.width);
  
  
          var imgData = canvas.toDataURL("image/jpeg", 1.0);
          var pdf = new jsPDF('p', 'pt',  [PDF_Width, PDF_Height]);
          pdf.addImage(imgData, 'JPG', top_left_margin, top_left_margin,canvas_image_width,canvas_image_height);
  
  
          for (var i = 1; i <= totalPDFPages; i++) { 
            pdf.addPage(PDF_Width, PDF_Height);
            pdf.addImage(imgData, 'JPG', top_left_margin, -(PDF_Height*i)+(top_left_margin*4),canvas_image_width,canvas_image_height);
          }
  
          pdf.save("Receipt.pdf");
        });         
      });
  });
  </script>
</form></body>
</html>
<script type="text/javascript">JotForm.ownerView=true;</script><script src="https://cdn.jotfor.ms//js/vendor/smoothscroll.min.js?v=3.3.19904"></script>
<script src="https://cdn.jotfor.ms//js/errorNavigation.js?v=3.3.19904"></script>

